<ng-container *ngIf="open">
  <div
    class="fixed inset-0 z-40 bg-black/50 backdrop-blur-sm"
    aria-hidden="true"
    (click)="onClose()"
  ></div>

  <div class="fixed inset-0 z-50 flex items-center justify-center p-4">
    <div
      cdkTrapFocus
      role="dialog"
      [attr.aria-modal]="true"
      [attr.aria-label]="title || null"
      class="relative w-full rounded-xl border border-border bg-card p-6 text-card-foreground shadow-2xl transition-all"
      [ngClass]="dialogWidthClass"
    >
      <header class="flex items-start justify-between gap-4 pb-4">
        <div>
          <p class="text-xs uppercase tracking-wide text-muted-foreground">Dialogue</p>
          <h2 *ngIf="title" class="text-lg font-semibold leading-tight">
            {{ title }}
          </h2>
        </div>
        <button type="button" hlmBtn variant="ghost" size="icon" (click)="onClose()">
          <span class="sr-only">Fermer</span>
          <svg
            aria-hidden="true"
            class="h-5 w-5"
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.5"
            viewBox="0 0 24 24"
          >
            <path d="m6 6 12 12M6 18 18 6" />
          </svg>
        </button>
      </header>

      <div class="max-h-[70vh] overflow-y-auto pr-2">
        <ng-content></ng-content>
      </div>
    </div>
  </div>
</ng-container>
