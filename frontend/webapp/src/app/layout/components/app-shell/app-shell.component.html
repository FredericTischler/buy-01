<div class="min-h-screen w-full bg-background text-foreground flex">
  <app-side-nav
    class="hidden lg:flex"
    [items]="mainNavItems()"
    [quickLinks]="quickLinks()"
    [open]="true"
    variant="static"
  />

  <div class="flex min-h-screen flex-1 flex-col">
    <app-app-header
      [sidebarOpen]="isSidebarOpen()"
      [userName]="user()?.profile?.firstName || user()?.email"
      [isSeller]="(user()?.roles || []).includes('SELLER')"
      (menuToggle)="toggleSidebar()"
      (themeToggle)="toggleTheme()"
      (logout)="logout()"
    />

    <app-side-nav
      class="lg:hidden"
      [items]="mainNavItems()"
      [quickLinks]="quickLinks()"
      [open]="isSidebarOpen()"
      variant="overlay"
      (dismiss)="closeSidebar()"
    />

    <main class="flex-1 overflow-y-auto bg-background">
      <router-outlet />
    </main>

    <app-app-footer />
  </div>
</div>

<ui-toast-container [toasts]="toasts()" (dismissed)="onToastDismiss($event)" />
